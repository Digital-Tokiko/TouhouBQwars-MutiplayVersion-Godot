[gd_scene load_steps=26 format=3 uid="uid://c41u1asimnl4c"]

[ext_resource type="Script" uid="uid://cpqpitkyfja2l" path="res://Scripts/Player.cs" id="1_ltx1d"]
[ext_resource type="PackedScene" uid="uid://blhvax1umuxev" path="res://Scene/side_state.tscn" id="2_2sw5t"]
[ext_resource type="Shader" uid="uid://bqgo8q1k7gh82" path="res://Shader/player.gdshader" id="2_ltx1d"]
[ext_resource type="SpriteFrames" uid="uid://caacwtixnsltm" path="res://SpriteFrames/Rumia.tres" id="3_mpbcc"]
[ext_resource type="SpriteFrames" uid="uid://c3aepm88pcqft" path="res://SpriteFrames/Cirno.tres" id="4_bb463"]
[ext_resource type="SpriteFrames" uid="uid://dbjlc2tyi1s3t" path="res://SpriteFrames/Bug.tres" id="5_ix0ks"]
[ext_resource type="SpriteFrames" uid="uid://bovdavutmmigi" path="res://SpriteFrames/Bird.tres" id="6_ycljv"]
[ext_resource type="Animation" uid="uid://byf13xk4vfdjr" path="res://SpriteFrames/out.res" id="7_wqp58"]
[ext_resource type="AudioStream" uid="uid://dfg7sfsqnl4qs" path="res://Assets/Sounds/Push.mp3" id="9_ij4jb"]
[ext_resource type="AudioStream" uid="uid://cvk6dv1p316oo" path="res://Assets/Sounds/Out.mp3" id="10_c68nv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p6qlh"]
shader = ExtResource("2_ltx1d")
shader_parameter/FlashState = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_r6jsd"]
shader = ExtResource("2_ltx1d")
shader_parameter/FlashState = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2sw5t"]
shader = ExtResource("2_ltx1d")
shader_parameter/FlashState = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ij4jb"]
shader = ExtResource("2_ltx1d")
shader_parameter/FlashState = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ivevv"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_8wn1n"]

[sub_resource type="Animation" id="Animation_ij4jb"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Rumia_AnimatedSprite2D:material:shader_parameter/FlashState")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Rumia_AnimatedSprite2D:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.262787, 0.262787)]
}

[sub_resource type="Animation" id="Animation_4ao7i"]
resource_name = "RESET_Bird"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Bird_AnimatedSprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.263, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Bird_AnimatedSprite2D:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_2dof7"]
resource_name = "RESET_Bug"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Bug_AnimatedSprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.263, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Bug_AnimatedSprite2D:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_p6qlh"]
resource_name = "RESET_Cirno"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cirno_AnimatedSprite2D2:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.263, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cirno_AnimatedSprite2D2:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_c31lq"]
resource_name = "out_Bird"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Bird_AnimatedSprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0.263, 0.263), Vector2(0.21, 0.263), Vector2(0.158, 0.263), Vector2(0.105, 0.263), Vector2(0.053, 0.263), Vector2(1e-05, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Bird_AnimatedSprite2D:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.2, 0.4, 0.6, 0.8, 1.0]
}

[sub_resource type="Animation" id="Animation_c68nv"]
resource_name = "out_Bug"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Bug_AnimatedSprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0.263, 0.263), Vector2(0.21, 0.263), Vector2(0.158, 0.263), Vector2(0.105, 0.263), Vector2(0.053, 0.263), Vector2(1e-05, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Bug_AnimatedSprite2D:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.2, 0.4, 0.6, 0.8, 1.0]
}

[sub_resource type="Animation" id="Animation_2sw5t"]
resource_name = "out_Cirno"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cirno_AnimatedSprite2D2:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0.262787, 0.262787), Vector2(0.21, 0.263), Vector2(0.158, 0.263), Vector2(0.105, 0.263), Vector2(0.053, 0.263), Vector2(1e-05, 0.263)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cirno_AnimatedSprite2D2:material:shader_parameter/FlashState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.2, 0.4, 0.6, 0.8, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_c68nv"]
_data = {
&"RESET": SubResource("Animation_ij4jb"),
&"RESET_Bird": SubResource("Animation_4ao7i"),
&"RESET_Bug": SubResource("Animation_2dof7"),
&"RESET_Cirno": SubResource("Animation_p6qlh"),
&"out": ExtResource("7_wqp58"),
&"out_Bird": SubResource("Animation_c31lq"),
&"out_Bug": SubResource("Animation_c68nv"),
&"out_Cirno": SubResource("Animation_2sw5t")
}

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_c68nv"]
properties/0/path = NodePath("Rumia_AnimatedSprite2D:animation")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("Cirno_AnimatedSprite2D2:animation")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("Bug_AnimatedSprite2D:animation")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath("Bird_AnimatedSprite2D:animation")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath("Area2D/Up:disabled")
properties/4/spawn = true
properties/4/replication_mode = 1
properties/5/path = NodePath("Area2D/Left:disabled")
properties/5/spawn = true
properties/5/replication_mode = 1
properties/6/path = NodePath("Area2D/Down:disabled")
properties/6/spawn = true
properties/6/replication_mode = 1
properties/7/path = NodePath("Area2D/Right:disabled")
properties/7/spawn = true
properties/7/replication_mode = 1
properties/8/path = NodePath("AnimationPlayer:current_animation")
properties/8/spawn = true
properties/8/replication_mode = 1
properties/9/path = NodePath(".:position")
properties/9/spawn = true
properties/9/replication_mode = 1
properties/10/path = NodePath(".:Face")
properties/10/spawn = true
properties/10/replication_mode = 1
properties/11/path = NodePath(".:Health")
properties/11/spawn = true
properties/11/replication_mode = 1
properties/12/path = NodePath("Rumia_AnimatedSprite2D:frame")
properties/12/spawn = true
properties/12/replication_mode = 1
properties/13/path = NodePath("Cirno_AnimatedSprite2D2:frame")
properties/13/spawn = true
properties/13/replication_mode = 1
properties/14/path = NodePath("Bug_AnimatedSprite2D:frame")
properties/14/spawn = true
properties/14/replication_mode = 1
properties/15/path = NodePath("Bird_AnimatedSprite2D:frame")
properties/15/spawn = true
properties/15/replication_mode = 1
properties/16/path = NodePath("Push:playing")
properties/16/spawn = true
properties/16/replication_mode = 1
properties/17/path = NodePath("Out:playing")
properties/17/spawn = true
properties/17/replication_mode = 1

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("CharacterAnimation", "ComAnimation", "PushS", "OutS", "CirnoAnim", "BugAnim", "BirdAnim", "DownC", "UpC", "LeftC", "RightC")]
z_index = 2
collision_layer = 2
script = ExtResource("1_ltx1d")
CharacterAnimation = NodePath("Rumia_AnimatedSprite2D")
ComAnimation = NodePath("AnimationPlayer")
Side = ExtResource("2_2sw5t")
PushS = NodePath("Push")
OutS = NodePath("Out")
CirnoAnim = NodePath("Cirno_AnimatedSprite2D2")
BugAnim = NodePath("Bug_AnimatedSprite2D")
BirdAnim = NodePath("Bird_AnimatedSprite2D")
DownC = NodePath("Area2D/Down")
UpC = NodePath("Area2D/Up")
LeftC = NodePath("Area2D/Left")
RightC = NodePath("Area2D/Right")

[node name="Rumia_AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_p6qlh")
position = Vector2(1, -2)
scale = Vector2(0.262787, 0.262787)
sprite_frames = ExtResource("3_mpbcc")
animation = &"DownStill"

[node name="Cirno_AnimatedSprite2D2" type="AnimatedSprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_r6jsd")
position = Vector2(1, -2)
scale = Vector2(0.263, 0.263)
sprite_frames = ExtResource("4_bb463")
animation = &"DownStill"

[node name="Bug_AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_2sw5t")
position = Vector2(1, -2)
scale = Vector2(0.263, 0.263)
sprite_frames = ExtResource("5_ix0ks")
animation = &"DownStill"

[node name="Bird_AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_ij4jb")
position = Vector2(1, -2)
scale = Vector2(0.263, 0.263)
sprite_frames = ExtResource("6_ycljv")
animation = &"DownStill"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1, 20)
scale = Vector2(1.26055, 1.26055)
shape = SubResource("CircleShape2D_ivevv")
metadata/_edit_lock_ = true

[node name="Area2D" type="Area2D" parent="."]
metadata/_edit_lock_ = true

[node name="Up" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1, 5)
scale = Vector2(5.575, 0.6)
shape = SubResource("SegmentShape2D_8wn1n")
disabled = true

[node name="Left" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-18, 20)
rotation = -1.57079
scale = Vector2(5.575, 0.6)
shape = SubResource("SegmentShape2D_8wn1n")
disabled = true

[node name="Down" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1, 32)
scale = Vector2(5.575, 0.6)
shape = SubResource("SegmentShape2D_8wn1n")
disabled = true

[node name="Right" type="CollisionShape2D" parent="Area2D"]
position = Vector2(11, 20)
rotation = -1.57079
scale = Vector2(5.575, 0.6)
shape = SubResource("SegmentShape2D_8wn1n")
disabled = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_c68nv")
}

[node name="Push" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_ij4jb")

[node name="Out" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_c68nv")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_c68nv")

[connection signal="body_entered" from="Area2D" to="." method="Kicked"]
